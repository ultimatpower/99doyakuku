<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ãƒ‰ãƒ¤é¡”ä¹ä¹ï¼ˆããï¼‰é“å ´</title>
    <style>
        /* =======================================
           1. CSS: ãƒ‡ã‚¶ã‚¤ãƒ³ã¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
           ======================================= */
        :root {
            --main-color: #e6006e; /* æ¡œè‰²ã«è¿‘ã„ãƒ”ãƒ³ã‚¯ */
            --accent-color: #ff9900; /* å‹åˆ©æ™‚ã®ã‚¢ã‚¯ã‚»ãƒ³ãƒˆ */
            --bg-color: #fff9e6; /* å’Œé¢¨ã®æ·¡ã„èƒŒæ™¯ */
            --font-main: "Impact", "Arial Black", sans-serif;
            --font-ja: "Hiragino Kaku Gothic ProN", "Meiryo", sans-serif;
        }

        body {
            font-family: var(--font-ja);
            background-color: var(--bg-color);
            color: #333;
            margin: 0;
            padding: 10px;
            text-align: center;
            line-height: 1.6;
            touch-action: manipulation;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 20px 10px;
            border: 8px solid var(--main-color);
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
        }

        /* ã‚¿ã‚¤ãƒˆãƒ« */
        h1 {
            font-family: var(--font-main);
            color: var(--main-color);
            font-size: 2.5em;
            margin-bottom: 10px;
            letter-spacing: 3px;
            text-shadow: 3px 3px 0 #ffe0f0;
        }

        /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒœãƒ¼ãƒ‰ */
        .status-board {
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            margin-bottom: 15px;
            border-bottom: 3px dashed #ccc;
        }

        .status-item {
            font-size: 1em;
            font-weight: bold;
        }

        .status-value {
            font-size: 1.5em;
            color: var(--accent-color);
            font-family: var(--font-main);
        }

        /* å•é¡Œè¡¨ç¤º */
        #question-area {
            font-size: 3.5em;
            font-family: var(--font-main);
            color: #333;
            margin: 20px 0;
            min-height: 60px;
        }

        #question-area .num {
            font-size: 1.2em; 
            color: #333;
            padding: 0 10px;
        }

        #question-area .op {
            font-size: 0.8em; 
            color: red;
            padding: 0 5px;
        }

        /* å›ç­”è¡¨ç¤ºã‚¨ãƒªã‚¢ */
        #answer-display {
            font-size: 4em;
            height: 1.5em;
            line-height: 1.5em;
            border: 5px solid var(--main-color);
            border-radius: 10px;
            margin: 20px auto;
            width: 90%;
            max-width: 300px;
            background-color: #fcfcfc;
            text-align: center;
            letter-spacing: 5px;
            overflow: hidden;
            font-family: var(--font-main);
        }

        /* ãƒ†ãƒ³ã‚­ãƒ¼ã‚¨ãƒªã‚¢ */
        #keypad-area {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            width: 90%;
            max-width: 400px;
            margin: 0 auto 20px;
        }

        .keypad-button {
            padding: 15px;
            font-size: 2em;
            height: 1.8em;
            font-family: var(--font-main);
            background-color: #ffcc00; 
            color: #333;
            border: 3px solid #cc9900;
            border-radius: 10px;
            cursor: pointer;
            user-select: none;
            transition: background-color 0.1s;
        }

        .keypad-button:active {
            transform: scale(0.95);
        }

        .keypad-submit {
            grid-column: span 2;
            background-color: var(--main-color);
            color: white;
            font-size: 1.5em;
            border: 3px solid #990033;
        }

        /* é–‹å§‹å‰è¨­å®šã‚¨ãƒªã‚¢ */
        #pre-start-settings {
            margin-bottom: 20px;
            padding: 15px;
            border: 2px dashed var(--accent-color);
            border-radius: 10px;
        }

        #level-select {
            padding: 10px;
            font-size: 1.2em;
            border: 2px solid var(--main-color);
            border-radius: 5px;
            margin-left: 10px;
        }

        /* ãƒœã‚¿ãƒ³å…±é€š */
        button {
            padding: 10px 20px;
            font-size: 1.2em;
            font-weight: bold;
            background-color: var(--main-color);
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.1s;
        }

        #lang-toggle {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: #333;
            font-size: 0.8em;
            padding: 5px 8px;
        }

        /* ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ (ãƒ‰ãƒ¤ãƒƒï¼) */
        #feedback-area {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: none; 
            flex-direction: column;
            justify-content: center;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.95);
            z-index: 100;
        }

        .do-ya-emoji {
            font-size: 5em;
            animation: zoomIn 0.5s ease-out;
            margin-bottom: 20px;
        }
        
        .effect-emoji {
            font-size: 3em;
            animation: fireworks 1s ease-out;
            margin: 10px 0;
            text-shadow: 0 0 10px #ff00ff;
        }

        @keyframes zoomIn {
            0% { transform: scale(0.5); opacity: 0; }
            80% { transform: scale(1.1); opacity: 1; }
            100% { transform: scale(1); }
        }

        @keyframes fireworks {
            0% { transform: scale(0); opacity: 0; }
            50% { transform: scale(1.5); opacity: 1; }
            100% { transform: scale(1); opacity: 0.8; }
        }

        /* çµ‚äº†ç”»é¢ */
        #result-screen {
            display: none;
            padding: 30px 10px;
            border: 5px solid gold;
            background-color: #fffacd;
            margin-top: 20px;
        }

        .result-message {
            font-size: 1.8em;
            color: #a52a2a;
            font-weight: bold;
        }
        
    </style>
</head>
<body>

    <button id="lang-toggle" onclick="toggleLanguage()">ä¿è­·è€…å‘ã‘ (ä¸­æ–‡) åˆ‡æ›¿</button>

    <div class="container">
        <h1 id="title">ãƒ‰ãƒ¤é¡”ä¹ä¹ï¼ˆããï¼‰é“å ´</h1>
        
        <div class="status-board">
            <div class="status-item"><span data-key="score-text">å¾—ç‚¹</span>: <span id="score" class="status-value">0</span> <span data-key="point">ç‚¹</span></div>
            <div class="status-item"><span data-key="timer-text">åˆ¶é™æ™‚é–“</span>: <span id="timer" class="status-value">60</span> <span data-key="sec">ç§’</span></div>
            <div class="status-item"><span data-key="level-text">ç¾åœ¨ã®æ®µä½</span>: <span id="level" class="status-value">1 ã®æ®µ</span></div>
        </div>

        <div id="game-area">
            
            <div id="pre-start-settings">
                <label for="level-select" data-key="select-level">æŒ‘æˆ¦ã™ã‚‹æ®µä½ã‚’é¸ã¶:</label>
                <select id="level-select">
                    </select>
            </div>
            
            <p id="question-text" data-key="task">ä»Šæ—¥ã®èª²é¡Œ:</p>
            <div id="question-area">
                </div>

            <div id="answer-display"></div>

            <p id="message-area" style="font-size:1.2em; color: green; font-weight: bold;"></p>

            <button id="start-button" onclick="startGame()"><span data-key="start">æŒ‘æˆ¦é–‹å§‹ï¼</span></button>

            <div id="keypad-area" style="display: none;">
                <button class="keypad-button" onclick="appendAnswer(7)">7</button>
                <button class="keypad-button" onclick="appendAnswer(8)">8</button>
                <button class="keypad-button" onclick="appendAnswer(9)">9</button>
                <button class="keypad-button" onclick="appendAnswer(4)">4</button>
                <button class="keypad-button" onclick="appendAnswer(5)">5</button>
                <button class="keypad-button" onclick="appendAnswer(6)">6</button>
                <button class="keypad-button" onclick="appendAnswer(1)">1</button>
                <button class="keypad-button" onclick="appendAnswer(2)">2</button>
                <button class="keypad-button" onclick="appendAnswer(3)">3</button>
                <button class="keypad-button" onclick="clearAnswer()"><span data-key="clear">æ¶ˆå»</span></button>
                <button class="keypad-button" onclick="appendAnswer(0)">0</button>
                <button class="keypad-button keypad-submit" onclick="checkAnswer()"><span data-key="submit">ç­”ãˆã‚ï¼</span></button>
            </div>
        </div>

        <div id="result-screen">
            <h2 class="result-message" data-key="result-title">æŒ‘æˆ¦çµ‚äº†ï¼</h2>
            <p data-key="result-score-text">ã‚ãªãŸã®æœ€çµ‚å¾—ç‚¹: <span id="final-score">0</span> ç‚¹</p>
            <p id="level-reward-message"></p>
            <button id="restart-button" onclick="resetGame()"><span data-key="restart">å†æŒ‘æˆ¦ï¼</span></button>
        </div>

    </div>

    <div id="feedback-area">
        <div class="do-ya-emoji" id="do-ya-face-content">
            (*`Ï‰Â´*) ãƒ‰ãƒ¤ãƒƒ! âœ¨
        </div>
        
        <p class="do-ya-message" data-key="great-answer" style="font-size: 2em; color: var(--main-color); font-weight: bold;"></p>
        
        <div class="effect-emoji" id="effect-content">
            ğŸŒ¸ğŸ†ğŸ‡ğŸ¥³
        </div>
    </div>

    <script>
        // =======================================
        // 2. JavaScript: ã‚²ãƒ¼ãƒ ãƒ­ã‚¸ãƒƒã‚¯
        // =======================================

        let score = 0;
        let currentLevel = 1; 
        let currentQuestion = { A: 0, B: 0, answer: 0 };
        let timer = 60;
        let timerInterval;
        let isGameActive = false;
        let correctStreak = 0; 
        let currentAnswer = ""; 
        const LEVEL_UP_THRESHOLD = 10; 
        
        // --- æ¼”å‡ºç”¨Emoji/é¡”æ–‡å­—ã®å®šç¾© ---
        const EMOJI_FEEDBACK = {
            'do-ya-ja': "(*`Ï‰Â´*) ãƒ‰ãƒ¤ãƒƒ! âœ¨",
            'do-ya-zh': "(à¸‡ â€¢Ì€_â€¢Ì)à¸‡ å‰å®³! âœ¨",
            'effect-firework': "ğŸ†ğŸ‡ğŸ¥³ğŸ‰ğŸŠğŸŒ¸",
            'effect-sakura': "ğŸŒ¸ğŸŒ¸ğŸŒ¸æº€é–‹ğŸŒ¸ğŸŒ¸ğŸŒ¸",
        };


        // æ—¥æœ¬èªã¨ä¸­å›½èªã®ç¿»è¨³ãƒ‡ãƒ¼ã‚¿
        const translations = {
            ja: {
                'title': 'ãƒ‰ãƒ¤é¡”ä¹ä¹ï¼ˆããï¼‰é“å ´',
                'lang-toggle': 'ä¿è­·è€…å‘ã‘ (ä¸­æ–‡) åˆ‡æ›¿',
                'score-text': 'å¾—ç‚¹',
                'point': 'ç‚¹',
                'timer-text': 'åˆ¶é™æ™‚é–“',
                'sec': 'ç§’',
                'level-text': 'ç¾åœ¨ã®æ®µä½',
                'task': 'ä»Šæ—¥ã®èª²é¡Œ:',
                'submit': 'ç­”ãˆã‚ï¼',
                'start': 'æŒ‘æˆ¦é–‹å§‹ï¼',
                'restart': 'å†æŒ‘æˆ¦ï¼',
                // 'do-ya' ã¯DOMç›´æ¥æ›´æ–°
                'great-answer': 'å¤§æ­£è§£ï¼',
                'result-title': 'æŒ‘æˆ¦çµ‚äº†ï¼',
                'result-score-text': 'ã‚ãªãŸã®æœ€çµ‚å¾—ç‚¹:',
                'correct-streak': 'é€£ç¶šæ­£è§£',
                'clear': 'æ®µä½ã‚¯ãƒªã‚¢ï¼',
                'select-level': 'æŒ‘æˆ¦ã™ã‚‹æ®µä½ã‚’é¸ã¶:',
                'clear': 'æ¶ˆå»',
                '7-reward': 'ä¸ƒã®æ®µã‚¯ãƒªã‚¢ï¼è™¹è‰²ãƒˆãƒ­ãƒ•ã‚£ãƒ¼ç²å¾—ï¼ğŸ†ğŸŒˆ',
                '8-reward': 'å…«ã®æ®µã‚¯ãƒªã‚¢ï¼å®‡å®™æœ€å¼·ãƒã‚¹ã‚¿ãƒ¼ãƒãƒƒã‚¸ç²å¾—ï¼ğŸ‘‘ğŸš€',
                '9-reward': 'ä¹ä¹ãƒã‚¹ã‚¿ãƒ¼ã®è¨¼ã‚’ç²å¾—ï¼ãŠã‚ã§ã¨ã†ï¼ğŸ…ğŸŒŸ',
            },
            zh: {
                'title': 'å¾—æ„è„¸ä¹ä¹æŒ‘æˆ˜é¦†',
                'lang-toggle': 'å®¶é•¿çœ‹ (æ—¥æ–‡) åˆ‡æ¢',
                'score-text': 'å¾—åˆ†',
                'point': 'åˆ†',
                'timer-text': 'é™åˆ¶æ—¶é—´',
                'sec': 'ç§’',
                'level-text': 'å½“å‰æ®µä½',
                'task': 'ä»Šæ—¥çš„ä»»åŠ¡:',
                'submit': 'å›ç­”ï¼',
                'start': 'å¼€å§‹æŒ‘æˆ˜ï¼',
                'restart': 'é‡æ–°æŒ‘æˆ˜ï¼',
                // 'do-ya' ã¯DOMç›´æ¥æ›´æ–°
                'great-answer': 'å›ç­”æ­£ç¡®ï¼',
                'result-title': 'æŒ‘æˆ˜ç»“æŸï¼',
                'result-score-text': 'ä½ çš„æœ€ç»ˆå¾—åˆ†:',
                'correct-streak': 'è¿ç»­ç­”å¯¹',
                'clear': 'æ®µä½é€šå…³ï¼',
                'select-level': 'é€‰æ‹©æŒ‘æˆ˜çš„æ®µä½:',
                'clear': 'æ¸…é™¤',
                '7-reward': 'ä¸ƒæ®µé€šå…³ï¼è·å¾—è™¹è‰²å¥–æ¯ï¼ğŸ†ğŸŒˆ',
                '8-reward': 'å…«æ®µé€šå…³ï¼è·å¾—å®‡å®™æœ€å¼ºå¾½ç« ï¼ğŸ‘‘ğŸš€',
                '9-reward': 'è·å¾—ä¹ä¹å¤§å¸ˆçš„è¯æ˜ï¼æ­å–œä½ ï¼ğŸ…ğŸŒŸ',
            }
        };

        let currentLang = 'ja';

        // è¨€èªåˆ‡ã‚Šæ›¿ãˆ
        function toggleLanguage() {
            currentLang = (currentLang === 'ja') ? 'zh' : 'ja';
            const langData = translations[currentLang];

            // ãƒ†ã‚­ã‚¹ãƒˆã®åˆ‡ã‚Šæ›¿ãˆ
            document.getElementById('title').textContent = langData['title'];
            document.getElementById('lang-toggle').textContent = langData['lang-toggle'];

            // data-keyå±æ€§ã‚’æŒã¤è¦ç´ ã®åˆ‡ã‚Šæ›¿ãˆ
            document.querySelectorAll('[data-key]').forEach(el => {
                const key = el.getAttribute('data-key');
                if (langData[key]) {
                    el.textContent = langData[key];
                }
            });

            // æ®µä½è¡¨ç¤ºã®æ›´æ–°
            updateLevelDisplay();
        }

        // æ®µä½è¡¨ç¤ºã®æ›´æ–°
        function updateLevelDisplay() {
             document.getElementById('level').textContent = currentLevel + (currentLang === 'ja' ? ' ã®æ®µ' : ' æ®µ');
        }

        // æ®µä½é¸æŠè‚¢ã®ç”Ÿæˆ
        function setupLevelSelect() {
            const select = document.getElementById('level-select');
            select.innerHTML = ''; 

            for (let i = 1; i <= 9; i++) {
                const option = document.createElement('option');
                option.value = i;
                option.textContent = `${i} ã®æ®µ`;
                select.appendChild(option);
            }
            select.value = 1; 
        }

        // åˆæœŸåŒ–
        function resetGame() {
            score = 0;
            timer = 60;
            currentAnswer = "";
            correctStreak = 0;
            isGameActive = false;
            
            document.getElementById('score').textContent = score;
            document.getElementById('timer').textContent = timer;
            document.getElementById('message-area').textContent = '';
            document.getElementById('result-screen').style.display = 'none';
            document.getElementById('game-area').style.display = 'block';
            
            document.getElementById('pre-start-settings').style.display = 'block';
            document.getElementById('start-button').style.display = 'block';
            document.getElementById('keypad-area').style.display = 'none';
            document.getElementById('answer-display').textContent = "";

            clearInterval(timerInterval);
            updateQuestionDisplay(0, 0); 
            currentLevel = parseInt(document.getElementById('level-select').value);
            updateLevelDisplay();
        }

        // ã‚²ãƒ¼ãƒ é–‹å§‹
        function startGame() {
            if (isGameActive) return;

            currentLevel = parseInt(document.getElementById('level-select').value);
            updateLevelDisplay();
            
            isGameActive = true;
            document.getElementById('pre-start-settings').style.display = 'none';
            document.getElementById('start-button').style.display = 'none';
            document.getElementById('keypad-area').style.display = 'grid'; 
            document.getElementById('answer-display').textContent = "";
            
            nextQuestion();
            
            timerInterval = setInterval(() => {
                timer--;
                document.getElementById('timer').textContent = timer;
                if (timer <= 0) {
                    endGame();
                }
            }, 1000);
        }

        // å•é¡Œã®ç”Ÿæˆ
        function nextQuestion() {
            const A = currentLevel; 
            const B = Math.floor(Math.random() * 9) + 1; 
            const answer = A * B;
            
            currentQuestion = { A, B, answer };
            updateQuestionDisplay(A, B);
            currentAnswer = "";
            document.getElementById('answer-display').textContent = "";
        }

        // å•é¡Œè¡¨ç¤ºã®æ›´æ–° 
        function updateQuestionDisplay(A, B) {
             document.getElementById('question-area').innerHTML = 
                ` <span class="num">${A}</span> 
                  <span class="op">Ã—</span> 
                  <span class="num">${B}</span> 
                  <span class="op">=</span> 
                  <span class="num">?</span> 
                `;
        }

        // ã‚¿ãƒƒãƒæ“ä½œ: æ•°å­—å…¥åŠ›
        function appendAnswer(num) {
            if (!isGameActive) return;
            if (currentAnswer.length >= 2) return; 

            currentAnswer += num.toString();
            document.getElementById('answer-display').textContent = currentAnswer;
        }

        // ã‚¿ãƒƒãƒæ“ä½œ: æ¶ˆå»
        function clearAnswer() {
            currentAnswer = "";
            document.getElementById('answer-display').textContent = "";
        }

        // ç­”ãˆã®ãƒã‚§ãƒƒã‚¯
        function checkAnswer() {
            if (!isGameActive) return;

            const userAnswer = parseInt(currentAnswer);

            if (currentAnswer === "") {
                document.getElementById('message-area').textContent = 'ç­”ãˆã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ï¼';
                return;
            }

            if (userAnswer === currentQuestion.answer) {
                // æ­£è§£
                score += 10;
                correctStreak++;
                document.getElementById('score').textContent = score;
                document.getElementById('message-area').textContent = `${translations[currentLang]['correct-streak']}: ${correctStreak}`;
                
                showFeedback(true);
                
                if (correctStreak > 0 && correctStreak % LEVEL_UP_THRESHOLD === 0) {
                    document.getElementById('message-area').textContent += ` ${translations[currentLang]['clear']} (${LEVEL_UP_THRESHOLD}é€£ç¶šæ­£è§£!)`;
                }

                setTimeout(nextQuestion, 1500); 
            } else {
                // ä¸æ­£è§£
                correctStreak = 0; 
                document.getElementById('message-area').textContent = 'ã‚€ã‚€ã‚€... æƒœã—ã„ï¼';
                showFeedback(false);
                setTimeout(nextQuestion, 500); 
            }
        }

        // æ­£è§£/ä¸æ­£è§£æ™‚ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯æ¼”å‡º (Emojiã¨é¡”æ–‡å­—ã«ä¿®æ­£)
        function showFeedback(isCorrect) {
            const feedbackArea = document.getElementById('feedback-area');
            const doYaContent = document.getElementById('do-ya-face-content');
            const message = document.querySelector('.do-ya-message');
            const effectContent = document.getElementById('effect-content');

            if (isCorrect) {
                feedbackArea.style.display = 'flex';
                
                // ãƒ‰ãƒ¤é¡”ã®é¡”æ–‡å­—ã‚’è¨€èªã«åˆã‚ã›ã¦è¨­å®š
                doYaContent.innerHTML = currentLang === 'ja' ? EMOJI_FEEDBACK['do-ya-ja'] : EMOJI_FEEDBACK['do-ya-zh'];
                message.textContent = translations[currentLang]['great-answer'];
                
                // æ¡œã¨èŠ±ç«ã®ã‚¨ãƒ•ã‚§ã‚¯ãƒˆã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«è¡¨ç¤º
                effectContent.textContent = Math.random() > 0.5 ? EMOJI_FEEDBACK['effect-firework'] : EMOJI_FEEDBACK['effect-sakura'];

                setTimeout(() => {
                    feedbackArea.style.display = 'none';
                }, 1500); 
            } else {
                // ä¸æ­£è§£ã®ç°¡æ˜“æ¼”å‡º
                document.getElementById('message-area').textContent = 'ã‚€ã‚€ã‚€... æƒœã—ã„ï¼';
            }
        }

        // ã‚²ãƒ¼ãƒ çµ‚äº†
        function endGame() {
            clearInterval(timerInterval);
            isGameActive = false;
            
            document.getElementById('keypad-area').style.display = 'none'; 
            document.getElementById('game-area').style.display = 'none';
            document.getElementById('result-screen').style.display = 'block';
            document.getElementById('final-score').textContent = score;

            // æœ€çµ‚çš„ãªæ®µä½ç‰¹å…¸ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
            const rewardMessage = document.getElementById('level-reward-message');
            rewardMessage.innerHTML = '';
            
            const selectedLevel = parseInt(document.getElementById('level-select').value);
            
            if (selectedLevel === 7) {
                 rewardMessage.innerHTML += `<p style="color:red; font-size:1.5em;">${translations[currentLang]['7-reward']}</p>`;
            }
            if (selectedLevel === 8) {
                 rewardMessage.innerHTML += `<p style="color:gold; font-size:1.5em;">${translations[currentLang]['8-reward']}</p>`;
            }
            if (selectedLevel === 9) {
                 rewardMessage.innerHTML += `<p style="color:purple; font-size:1.5em;">${translations[currentLang]['9-reward']}</p>`;
            }
            if (selectedLevel < 7) {
                 rewardMessage.innerHTML += `<p style="font-size:1.2em;">æ¬¡ã¯ ${translations[currentLang]['7-reward']} ã‚’ç›®æŒ‡ãã†ï¼</p>`;
            }
        }

        // ã‚¨ãƒ³ã‚¿ãƒ¼ã‚­ãƒ¼ã‚’ç„¡åŠ¹åŒ– (ã‚¿ãƒƒãƒæ“ä½œå„ªå…ˆã®ãŸã‚)
        document.addEventListener('keypress', function(e) {
            if (isGameActive && e.key === 'Enter') {
                e.preventDefault();
                checkAnswer();
            }
        });

        // åˆæœŸãƒ­ãƒ¼ãƒ‰æ™‚ã«å®Ÿè¡Œ
        window.onload = function() {
            setupLevelSelect(); 
            resetGame();
            // åˆæœŸè¡¨ç¤ºã‚’æ—¥æœ¬èªã«ã™ã‚‹
            currentLang = 'zh'; 
            toggleLanguage(); 
        };
    </script>

</body>
</html>